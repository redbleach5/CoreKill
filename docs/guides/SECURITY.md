# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2026-01-21  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ë–∞–∑–æ–≤–∞—è –∑–∞—â–∏—Ç–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

---

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –ó–∞—â–∏—Ç–∞ –æ—Ç prompt injection ‚úÖ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ –û–±—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è `validate_prompt()` –≤ `backend/validators.py`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 16 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ prompt injection
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–∞—Å–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –≤ –∫–æ–¥–µ: `eval(`, `exec(`, `__import__`, `os.system`, `subprocess`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã: `MAX_PROMPT_LENGTH = 50000`
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `TaskRequest` –∏ `StreamQueryParams` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è)

**–ü–∞—Ç—Ç–µ—Ä–Ω—ã:**
- `ignore previous`, `ignore all previous`
- `disregard`, `disregard the above`
- `new instructions`, `system:`, `system override`
- `forget all`, `you are now`, `act as if`
- –ò –¥—Ä—É–≥–∏–µ (–≤—Å–µ–≥–æ 16 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤)

**–§–∞–π–ª—ã:**
- `backend/validators.py` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
- `backend/routers/code_executor.py` ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–¥–∞
- `tests/test_validators.py` ‚Äî —Ç–µ—Å—Ç—ã

---

### 2. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö ‚úÖ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ Pydantic –º–æ–¥–µ–ª–∏ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–¥–∞—á–∏ (min_length=1, max_length=10000)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ (regex: `^[a-zA-Z0-9:\-_.]+$`)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è temperature (0.1-0.7)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è max_iterations (1-5)

---

### 3. –ó–∞—â–∏—Ç–∞ –æ—Ç –æ–ø–∞—Å–Ω–æ–≥–æ –∫–æ–¥–∞ ‚úÖ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–∞—Å–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –≤ –∫–æ–¥–µ
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤ `code_executor.py` (130+ —Å—Ç—Ä–æ–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫)
- ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–∞—Å–Ω–æ–≥–æ –∫–æ–¥–∞

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `docs/CODE_QUALITY.md` ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
- `backend/validators.py` ‚Äî –∫–æ–¥ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
