# –°–≤–æ–¥–∫–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–§–∞–∑–∞ 1)

**–î–∞—Ç–∞:** 2026-01-21  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –§–∞–∑–∞ 1 –∑–∞–≤–µ—Ä—à–µ–Ω–∞

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –°–æ–∑–¥–∞–Ω —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π API –∫–ª–∏–µ–Ω—Ç

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `frontend/src/services/apiClient.ts`
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –±–∞–∑–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã: `get()`, `post()`, `delete()`, `createSSE()`
- –í—ã–Ω–µ—Å–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è dev/prod —Ä–µ–∂–∏–º–∞ –≤ —Ñ—É–Ω–∫—Ü–∏—é `getBaseUrl()`
- –ï–¥–∏–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ `fetchWithErrorHandling()`
- –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –≤—Å–µ—Ö API endpoints:
  - `api.models.*` - —Ä–∞–±–æ—Ç–∞ —Å –º–æ–¥–µ–ª—è–º–∏
  - `api.conversations.*` - —Ä–∞–±–æ—Ç–∞ —Å –¥–∏–∞–ª–æ–≥–∞–º–∏
  - `api.projects.*` - —Ä–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ —Ñ–∞–π–ª–∞–º–∏
  - `api.metrics.*` - —Ä–∞–±–æ—Ç–∞ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
  - `api.code.*` - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–¥–∞
  - `api.settings.*` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  - `api.tasks.*` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏
  - `api.databases.*` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
  - `api.stream()` - SSE —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è —Å—Ç—Ä–∏–º–∏–Ω–≥–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è dev —Ä–µ–∂–∏–º–∞ (2 –º–µ—Å—Ç–∞ ‚Üí 1 –º–µ—Å—Ç–æ)
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ (8 –º–µ—Å—Ç ‚Üí 1 –º–µ—Å—Ç–æ)
- –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –¥–ª—è –≤—Å–µ—Ö API –≤—ã–∑–æ–≤–æ–≤

---

### 2. –ú–∏–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞ API –∫–ª–∏–µ–Ω—Ç

**–ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**

#### ‚úÖ `utils/modelUtils.ts`
- –ó–∞–º–µ–Ω—ë–Ω `fetch('/api/models')` –Ω–∞ `api.models.list()`
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

#### ‚úÖ `components/ChatHistory.tsx`
- –ó–∞–º–µ–Ω—ë–Ω `fetch('/api/conversations')` –Ω–∞ `api.conversations.list()`
- –ó–∞–º–µ–Ω—ë–Ω `fetch('/api/conversations/{id}', { method: 'DELETE' })` –Ω–∞ `api.conversations.delete(id)`
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

#### ‚úÖ `components/MetricsDashboard.tsx`
- –ó–∞–º–µ–Ω—ë–Ω `fetch(apiUrl)` —Å —Ä—É—á–Ω–æ–π –ª–æ–≥–∏–∫–æ–π dev —Ä–µ–∂–∏–º–∞ –Ω–∞ `api.metrics.get()`
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è dev —Ä–µ–∂–∏–º–∞

#### ‚úÖ `components/chat/MessageList.tsx`
- –ó–∞–º–µ–Ω—ë–Ω `fetch('/api/metrics/stages')` –Ω–∞ `api.metrics.getStages()`
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

#### ‚úÖ `components/SidebarOptions.tsx`
- –ó–∞–º–µ–Ω—ë–Ω `fetchWithErrorHandling('/api/models')` –Ω–∞ `api.models.list()`
- –£–ø—Ä–æ—â—ë–Ω –∫–æ–¥

#### ‚úÖ `App.tsx`
- –ó–∞–º–µ–Ω—ë–Ω `fetchWithErrorHandling('/api/models')` –Ω–∞ `api.models.list()`
- –ó–∞–º–µ–Ω—ë–Ω `fetchWithErrorHandling('/api/conversations/{id}')` –Ω–∞ `api.conversations.get(id)`
- –£–ø—Ä–æ—â—ë–Ω –∫–æ–¥

#### ‚úÖ `components/IDEPanel.tsx`
- –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ fetch –≤—ã–∑–æ–≤—ã –Ω–∞ –º–µ—Ç–æ–¥—ã API –∫–ª–∏–µ–Ω—Ç–∞:
  - `api.projects.getFiles()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞ —Ñ–∞–π–ª–æ–≤
  - `api.projects.getFileContent()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–∞
  - `api.projects.index()` - –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
  - `api.projects.browseFolder()` - –≤—ã–±–æ—Ä –ø–∞–ø–∫–∏
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

#### ‚úÖ `hooks/useCodeExecution.ts`
- –ó–∞–º–µ–Ω—ë–Ω `fetchWithErrorHandling('/api/code/execute')` –Ω–∞ `api.code.execute()`
- –ó–∞–º–µ–Ω—ë–Ω `fetchWithErrorHandling('/api/code/validate')` –Ω–∞ `api.code.validate()`
- –£–ø—Ä–æ—â—ë–Ω –∫–æ–¥

#### ‚úÖ `hooks/useAgentStream.ts`
- –ó–∞–º–µ–Ω–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ EventSource —Å —Ä—É—á–Ω–æ–π –ª–æ–≥–∏–∫–æ–π dev —Ä–µ–∂–∏–º–∞ –Ω–∞ `api.stream(params)`
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è dev —Ä–µ–∂–∏–º–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—ã–π API –∫–ª–∏–µ–Ω—Ç
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ ~200 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞
- –£–ª—É—á—à–µ–Ω–∞ —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –£–ø—Ä–æ—â–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ API endpoints

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –¥–æ –∏ –ø–æ—Å–ª–µ

### –î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ fetch –≤—ã–∑–æ–≤–æ–≤:** 8 –º–µ—Å—Ç —Å —Ä–∞–∑–Ω–æ–π –ª–æ–≥–∏–∫–æ–π
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ dev —Ä–µ–∂–∏–º–∞:** 2 –º–µ—Å—Ç–∞ (100% –∏–¥–µ–Ω—Ç–∏—á–Ω–æ)
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫:** 6 –º–µ—Å—Ç
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~5000
- **–ü—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã fetch:** 10+ –º–µ—Å—Ç

### –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ fetch –≤—ã–∑–æ–≤–æ–≤:** 0 –º–µ—Å—Ç (—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ dev —Ä–µ–∂–∏–º–∞:** 0 –º–µ—Å—Ç (–≤ apiClient)
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫:** 0 –º–µ—Å—Ç (–≤ apiClient)
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~4800 (-4%)
- **–ü—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã fetch:** 0 –º–µ—Å—Ç (–≤—Å–µ —á–µ—Ä–µ–∑ apiClient)

**–≠–∫–æ–Ω–æ–º–∏—è:** ~200 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞

---

## üîç –î–µ—Ç–∞–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ apiClient.ts:

1. **`getBaseUrl()`** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ dev/prod —Ä–µ–∂–∏–º–∞
2. **`getApiUrl()`** - —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ URL
3. **`fetchWithErrorHandling()`** - –µ–¥–∏–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
4. **`apiClient.get/post/delete()`** - –±–∞–∑–æ–≤—ã–µ HTTP –º–µ—Ç–æ–¥—ã
5. **`apiClient.createSSE()`** - —Å–æ–∑–¥–∞–Ω–∏–µ SSE —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
6. **`api.*`** - —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –≤—Å–µ—Ö endpoints

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:

**–£–¥–∞–ª–µ–Ω–æ:**
- –ü—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã `fetch()`
- –î—É–±–ª–∏—Ä—É—é—â–∞—è—Å—è –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è dev —Ä–µ–∂–∏–º–∞
- –î—É–±–ª–∏—Ä—É—é—â–∞—è—Å—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –†—É—á–Ω–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ URL

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- –ò–º–ø–æ—Ä—Ç `api` –∏–∑ `services/apiClient`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ API –∫–ª–∏–µ–Ω—Ç–∞

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞

- [x] –í—Å–µ —Ñ–∞–π–ª—ã –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] TypeScript —Ç–∏–ø—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- [x] –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- [x] –õ–∏–Ω—Ç–µ—Ä –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –æ—à–∏–±–æ–∫
- [x] –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–§–∞–∑–∞ 2)

1. **–£—Å—Ç—Ä–∞–Ω–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤** (1-2 —á–∞—Å–∞)
   - –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è `ValidationResult`
   - –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è `IndexProjectRequest/Response`

2. **–°–æ–∑–¥–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏** (2-3 —á–∞—Å–∞)
   - `useApi<T>()` - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ö—É–∫ –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤
   - `useModels()` - —Ö—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–µ–ª—è–º–∏
   - `useLocalStorage<T>()` - —Ö—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å localStorage

---

## üéØ –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ü–µ–ª–∏

‚úÖ –°–æ–∑–¥–∞–Ω —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π API –∫–ª–∏–µ–Ω—Ç  
‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ API –∫–ª–∏–µ–Ω—Ç  
‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ fetch –≤—ã–∑–æ–≤–æ–≤  
‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ dev —Ä–µ–∂–∏–º–∞  
‚úÖ –£–ª—É—á—à–µ–Ω–∞ —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å  
‚úÖ –£–ø—Ä–æ—â–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ API endpoints

---

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~3-4 —á–∞—Å–∞  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –§–∞–∑–∞ 1 –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
