# Основные правила (применяются ВСЕГДА)

## Видение проекта
Локальная система генерации кода, превосходящая Cursor AI:
- 100% локальная работа (Ollama + ChromaDB)
- Опциональный веб-поиск только при низкой уверенности RAG
- Строгий TDD-подход
- Модульная архитектура через LangGraph

## Стандарты кода

**Python:**
- Python 3.12+
- Type hints обязательны
- Читаемые имена переменных/функций
- Без заглушек и TODO в production коде
- Docstrings для публичных функций

**Зависимости:**
- Только последние стабильные версии
- При конфликте — менять решение, не даунгрейдить

## Язык интерфейса

**Русский:**
- Все сообщения пользователю
- Логи в консоли
- Прогресс-бары
- Ошибки и пояснения

**Английский:**
- Имена переменных, функций, классов
- Имена файлов
- Технические логи в файлы

## Архитектурные принципы
- Dependency Inversion
- Явные контракты между слоями
- UI не знает о реализации агентов
- Backend не знает о UI
- Любая фича должна быть отключаема через config.toml

## После завершения задачи
- Проверь что код компилируется без ошибок
- Если изменены сигнатуры агентов — упомяни что нужно обновить тесты (@test_sync.md)

## Расширение правил .cursor/rules/
Когда файл превышает ~150 строк — разбей на папку:
```
models.md → models/overview.md, models/timeouts.md, models/routing.md
architecture.md → architecture/overview.md, architecture/agents.md, architecture/workflow.md
```
Это позволяет масштабировать документацию вместе с проектом.
