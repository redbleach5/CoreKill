# Правила проекта

**Обновлено:** 2026-01-21  
**Версия:** 2.0 (оптимизированы и обновлены)

## Структура правил

| Файл | Назначение | Когда использовать |
|------|-----------|-------------------|
| `ALWAYS.md` | Основные правила (всегда применяются) | Всегда |
| `architecture.md` | Архитектура и структура проекта | При работе с архитектурой |
| `models.md` | Работа с моделями и LLM | При работе с моделями/LLM |
| `quality.md` | Метрики качества и тестирование | Перед коммитом |
| `test_sync.md` | Синхронизация тестов | После изменения кода |

## Ключевые принципы

1. **Агностичность к моделям** — не хардкодить конкретные модели, использовать ModelRouter
2. **Конфигурируемость** — все фичи отключаемы через config.toml
3. **Модульность** — один модуль = одна ответственность
4. **Типизация** — type hints обязательны
5. **Тестируемость** — покрытие ≥ 85%

## Изменения (2026-01-21)

- ✅ Удалены все упоминания конкретных моделей (phi3, qwen, deepseek, etc.)
- ✅ Добавлен принцип агностичности к моделям
- ✅ Обновлены примеры кода (model=None для авто-выбора)
- ✅ Оптимизирована структура правил
- ✅ Добавлены краткие резюме в начало каждого файла

## Использование

При работе с кодом:
1. Следуй `ALWAYS.md` — базовые принципы
2. Используй `architecture.md` для понимания структуры
3. Используй `models.md` для работы с LLM (всегда через ModelRouter)
4. Проверяй `quality.md` перед коммитом
5. Используй `test_sync.md` после изменений
