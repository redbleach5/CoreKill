# Roadmap: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –ø–µ—Ä–µ–¥–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

## –°—Ç–∞—Ç—É—Å: üöÄ –ê–ö–¢–ò–í–ù–´–ô

---

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

| # | –§–∞–∑–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –í–ª–∏—è–Ω–∏–µ | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –î–æ–∫—É–º–µ–Ω—Ç |
|---|------|----------|---------|-----------|----------|
| 1 | Reasoning Models | DeepSeek-R1 –¥–ª—è complex –∑–∞–¥–∞—á | –í—ã—Å–æ–∫–æ–µ | –ù–∏–∑–∫–∞—è | `reasoning_models.md` |
| 2 | Structured Output | Pydantic + JSON Schema | –í—ã—Å–æ–∫–æ–µ | –ù–∏–∑–∫–∞—è | `structured_output.md` |
| 3 | Compiler-in-Loop | –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è | –í—ã—Å–æ–∫–æ–µ | –°—Ä–µ–¥–Ω—è—è | `compiler_in_the_loop.md` |
| 4 | Code Retrieval | Few-shot –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –∫–æ–¥–∞ | –°—Ä–µ–¥–Ω–µ–µ | –°—Ä–µ–¥–Ω—è—è | `code_retrieval.md` |
| 5 | Multi-Agent Debate | –ù–µ—Å–∫–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏–∫–æ–≤ | –°—Ä–µ–¥–Ω–µ–µ | –°—Ä–µ–¥–Ω—è—è | `advanced_architecture_2026.md` |
| 6 | AST Analysis | –ü–∞—Ä—Å–∏–Ω–≥ –≤–º–µ—Å—Ç–æ LLM | –°—Ä–µ–¥–Ω–µ–µ | –ù–∏–∑–∫–∞—è | `context_engine_ast_parsing.md` |

---

## –§–∞–∑–∞ 1: Reasoning Models (1-2 –¥–Ω—è)

### –¶–µ–ª—å
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DeepSeek-R1 –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á ‚Äî –º–æ–¥–µ–ª—å —Å–∞–º–∞ —Ä–∞—Å—Å—É–∂–¥–∞–µ—Ç, –Ω–µ –Ω—É–∂–Ω—ã —Å–ª–æ–∂–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã.

### –ó–∞–¥–∞—á–∏
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `deepseek-r1:7b` —á–µ—Ä–µ–∑ Ollama
- [ ] –î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–µ–∫—Ü–∏—é reasoning –º–æ–¥–µ–ª–µ–π –≤ `model_router.py`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ `<think>` –±–ª–æ–∫–æ–≤
- [ ] –û–±–Ω–æ–≤–∏—Ç—å CoderAgent –¥–ª—è reasoning
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ `config.toml`
- [ ] –¢–µ—Å—Ç—ã

### –§–∞–π–ª—ã
```
infrastructure/model_router.py    # –î–æ–±–∞–≤–∏—Ç—å REASONING_MODELS
infrastructure/reasoning_utils.py # NEW: –ø–∞—Ä—Å–∏–Ω–≥ <think>
agents/coder.py                   # –ü–æ–¥–¥–µ—Ä–∂–∫–∞ reasoning
config.toml                       # [reasoning] —Å–µ–∫—Ü–∏—è
tests/test_reasoning.py           # NEW
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç
Complex –∑–∞–¥–∞—á–∏ —Ä–µ—à–∞—é—Ç—Å—è —Ç–æ—á–Ω–µ–µ, –º–µ–Ω—å—à–µ –∏—Ç–µ—Ä–∞—Ü–∏–π debug-fix.

---

## –§–∞–∑–∞ 2: Structured Output (1 –¥–µ–Ω—å)

### –¶–µ–ª—å
–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ Pydantic ‚Äî –Ω–∏–∫–∞–∫–∏—Ö "–ø–∞—Ä—Å–∏–Ω–≥ –Ω–µ —É–¥–∞–ª—Å—è".

### –ó–∞–¥–∞—á–∏
- [ ] –°–æ–∑–¥–∞—Ç—å `models/agent_responses.py` —Å Pydantic –º–æ–¥–µ–ª—è–º–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å `generate_structured()` –≤ LocalLLM
- [ ] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å IntentAgent
- [ ] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å DebuggerAgent
- [ ] Fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –º–æ–¥–µ–ª–µ–π
- [ ] –¢–µ—Å—Ç—ã

### –§–∞–π–ª—ã
```
models/                           # NEW: –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
models/__init__.py                # NEW
models/agent_responses.py         # NEW: Pydantic –º–æ–¥–µ–ª–∏
infrastructure/local_llm.py       # generate_structured()
agents/intent.py                  # –ú–∏–≥—Ä–∞—Ü–∏—è
agents/debugger.py                # –ú–∏–≥—Ä–∞—Ü–∏—è
tests/test_structured_output.py   # NEW
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç
–ù–µ—Ç silent failures –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ, type safety –≤ IDE.

---

## –§–∞–∑–∞ 3: Compiler-in-the-Loop (2-3 –¥–Ω—è)

### –¶–µ–ª—å
–í–∞–ª–∏–¥–∞—Ü–∏—è –°–†–ê–ó–£ –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–µ –≤ –∫–æ–Ω—Ü–µ workflow.

### –ó–∞–¥–∞—á–∏
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `IncrementalCoder`
- [ ] –î–æ–±–∞–≤–∏—Ç—å `validate_code_quick()`
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ workflow –¥–ª—è complex –∑–∞–¥–∞—á
- [ ] SSE –¥–ª—è –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- [ ] –ú–µ—Ç—Ä–∏–∫–∏: –≤—Ä–µ–º—è –¥–æ –ø–µ—Ä–≤–æ–π –æ—à–∏–±–∫–∏
- [ ] –¢–µ—Å—Ç—ã

### –§–∞–π–ª—ã
```
agents/incremental_coder.py       # NEW
utils/validation.py               # validate_code_quick()
infrastructure/workflow_nodes.py  # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
backend/sse_manager.py            # stream_incremental_progress()
config.toml                       # [incremental_coding]
tests/test_incremental_coder.py   # NEW
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç
–°—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ debug –∏—Ç–µ—Ä–∞—Ü–∏–π: 2.5 ‚Üí 1.0

---

## –§–∞–∑–∞ 4: Code Retrieval (2-3 –¥–Ω—è)

### –¶–µ–ª—å
–ù–∞—Ö–æ–¥–∏—Ç—å –ø–æ—Ö–æ–∂–∏–π –∫–æ–¥ –∏ –¥–∞–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –∫–∞–∫ –ø—Ä–∏–º–µ—Ä—ã –≤–º–µ—Å—Ç–æ –¥–ª–∏–Ω–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.

### –ó–∞–¥–∞—á–∏
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `CodeRetriever`
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ChromaDB –¥–ª—è embeddings
- [ ] –ü–æ–∏—Å–∫ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ
- [ ] GitHub Code Search (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ CoderAgent
- [ ] –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è
- [ ] –¢–µ—Å—Ç—ã

### –§–∞–π–ª—ã
```
infrastructure/code_retrieval.py  # NEW
infrastructure/indexer.py         # NEW: –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è
agents/coder.py                   # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
config.toml                       # [code_retrieval]
requirements.txt                  # sentence-transformers, chromadb
tests/test_code_retrieval.py      # NEW
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç
–ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∏–ª—é –ø—Ä–æ–µ–∫—Ç–∞, –º–µ–Ω—å—à–µ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π –≤ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–µ.

---

## –§–∞–∑–∞ 5: Multi-Agent Debate (2 –¥–Ω—è)

### –¶–µ–ª—å
–ù–µ—Å–∫–æ–ª—å–∫–æ –∞–≥–µ–Ω—Ç–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ "—Ç–æ—á–∫–∞–º–∏ –∑—Ä–µ–Ω–∏—è" –ø—Ä–æ–≤–µ—Ä—è—é—Ç –∫–æ–¥.

### –ó–∞–¥–∞—á–∏
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `DebateOrchestrator`
- [ ] –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ reviewer –∞–≥–µ–Ω—Ç—ã
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ critic stage
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–±–∞—Ç–æ–≤
- [ ] –¢–µ—Å—Ç—ã

### –§–∞–π–ª—ã
```
infrastructure/debate.py          # NEW
agents/specialized_reviewers.py   # NEW: security, performance, style
infrastructure/workflow_nodes.py  # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ critic_node
tests/test_debate.py              # NEW
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç
–ë–æ–ª—å—à–µ –±–∞–≥–æ–≤ –ª–æ–≤–∏—Ç—Å—è –¥–æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞.

---

## –§–∞–∑–∞ 6: AST Analysis (1-2 –¥–Ω—è)

### –¶–µ–ª—å
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AST –ø–∞—Ä—Å–∏–Ω–≥ —Ç–∞–º, –≥–¥–µ LLM –Ω–µ –Ω—É–∂–µ–Ω (–º–µ—Ç—Ä–∏–∫–∏, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏).

### –ó–∞–¥–∞—á–∏
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `ASTAnalyzer`
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å LLM –Ω–∞ AST –¥–ª—è –º–µ—Ç—Ä–∏–∫ –∫–æ–¥–∞
- [ ] –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ AST
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ analyze —Ä–µ–∂–∏–º
- [ ] –¢–µ—Å—Ç—ã

### –§–∞–π–ª—ã
```
infrastructure/ast_analyzer.py    # NEW
infrastructure/context_engine.py  # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
agents/chat.py                    # analyze_project() –∏—Å–ø–æ–ª—å–∑—É–µ—Ç AST
tests/test_ast_analyzer.py        # NEW
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç
100% —Ç–æ—á–Ω–æ—Å—Ç—å –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ (AST –Ω–µ –≥–∞–ª–ª—é—Ü–∏–Ω–∏—Ä—É–µ—Ç).

---

## –û–±—â–∏–π —Ç–∞–π–º–ª–∞–π–Ω

```
–ù–µ–¥–µ–ª—è 1:
‚îú‚îÄ‚îÄ –§–∞–∑–∞ 1: Reasoning Models (2 –¥–Ω—è)
‚îî‚îÄ‚îÄ –§–∞–∑–∞ 2: Structured Output (1 –¥–µ–Ω—å)

–ù–µ–¥–µ–ª—è 2:
‚îú‚îÄ‚îÄ –§–∞–∑–∞ 3: Compiler-in-the-Loop (3 –¥–Ω—è)
‚îî‚îÄ‚îÄ –ù–∞—á–∞–ª–æ –§–∞–∑—ã 4

–ù–µ–¥–µ–ª—è 3:
‚îú‚îÄ‚îÄ –§–∞–∑–∞ 4: Code Retrieval (2 –¥–Ω—è)
‚îî‚îÄ‚îÄ –§–∞–∑–∞ 5: Multi-Agent Debate (2 –¥–Ω—è)

–ù–µ–¥–µ–ª—è 4:
‚îú‚îÄ‚îÄ –§–∞–∑–∞ 6: AST Analysis (2 –¥–Ω—è)
‚îî‚îÄ‚îÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è
```

---

## –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –¶–µ–ª—å |
|---------|----|----|------|
| Intent accuracy | 85% | ‚Äî | >95% |
| –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è —Å—Ä–∞–∑—É | 60% | ‚Äî | >85% |
| Debug –∏—Ç–µ—Ä–∞—Ü–∏–π –≤ —Å—Ä–µ–¥–Ω–µ–º | 2.5 | ‚Äî | <1.5 |
| –í—Ä–µ–º—è –¥–æ —Ä–∞–±–æ—á–µ–≥–æ –∫–æ–¥–∞ | 45s | ‚Äî | <25s |
| –°—Ç–∏–ª—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–æ–µ–∫—Ç—É | 50% | ‚Äî | >90% |

---

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –§–∞–∑–∞ 1: Reasoning
ollama pull deepseek-r1:7b

# –§–∞–∑–∞ 2: Structured Output
pip install pydantic>=2.0

# –§–∞–∑–∞ 4: Code Retrieval
pip install sentence-transformers chromadb

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
pip install PyGithub  # –î–ª—è GitHub Code Search
```

---

## –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

| –†–∏—Å–∫ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-----------|
| DeepSeek-R1 —Ç—Ä–µ–±—É–µ—Ç –º–Ω–æ–≥–æ VRAM | Fallback –Ω–∞ qwen2.5-coder |
| Structured output –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ –º–æ–¥–µ–ª—è–º–∏ | Fallback –Ω–∞ —Ä—É—á–Ω–æ–π –ø–∞—Ä—Å–∏–Ω–≥ |
| GitHub API rate limits | –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ + –ª–æ–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å |
| –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏ | Feature flags, –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ |

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `advanced_architecture_2026.md` ‚Äî –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- `reasoning_models.md` ‚Äî –î–µ—Ç–∞–ª–∏ –ø–æ reasoning
- `structured_output.md` ‚Äî Pydantic –º–æ–¥–µ–ª–∏
- `compiler_in_the_loop.md` ‚Äî –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
- `code_retrieval.md` ‚Äî Few-shot –ø—Ä–∏–º–µ—Ä—ã
- `context_engine_ast_parsing.md` ‚Äî AST –ø–∞—Ä—Å–∏–Ω–≥
- `tree_sitter_multilang.md` ‚Äî –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (–±—É–¥—É—â–µ–µ)
